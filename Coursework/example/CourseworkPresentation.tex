\documentclass[pdf, intlimits, unicode, S6, presentation]{beamer}
\usepackage[T2A]{fontenc}
\usepackage[cp1251]{inputenc}
\usepackage[english,russian]{babel}

\usetheme{Warsaw}
\usefonttheme[onlysmall]{structurebold}
\usefonttheme[onlymath]{serif}
\setbeamercovered{dynamic}
\setbeamercovered{transparent}
\setbeamerfont{institute}{size=\normalsize}
%\setbeamertemplate{background canvas}[vertical shading][bottom=red!10,top=blue!10]
\setbeamertemplate{theorems}[unnumbered]
\setbeamertemplate{footline}{}
\setbeamertemplate{headline}{}
\setbeamercolor{bluetext_color}{fg=blue}
\newcommand{\bluetext}[1]{{\usebeamercolor[fg]{bluetext_color}#1}}

\usepackage{beamerthemesplit}
\usepackage{dsfont}
\usepackage{pgfplots}
%\usepackage{graphics}

\newcounter{sli}
\newcommand{\slnumber}{\hfill {\color{lightgray} \refstepcounter{sli}\arabic{sli}}}
\renewcommand{\nod}{\mathop{\text{НОД}}}
\renewcommand{\nok}{\mathop{\text{НОК}}}

\title[ФЯиГ]
{Разработка высоконагруженных приложений на языке JavaScript}
\author{Бакалаврская работа \\
    студента 411 группы А.~С.~Низамутдинова}
\institute{{Саратовский национальный исследовательский государственный университет} \\
    им.~Н.~Г.~Чернышевского \\[5pt]
Кафедра математической кибернетики\\ и компьютерных наук\\[5pt]
Научный руководитель: доцент, Борзов~И.~А.
}
\date{2016г.}


\begin{document}

% Титульный лист - обязательный слайд
\begin{frame}
    \titlepage
\end{frame}

% Постановка задачи - обязательный слайд
\begin{frame}
    \frametitle{Постановка задачи \slnumber}
    \Large
    \begin{enumerate}
        \item изучить архитектуру NodeJS и NGINX;
        \item рассмотреть способы асинхронного обмена данными с сервером с использованием websocket, comet, iframe и jsonp;
        \item реализовать веб-сервер на websocket и comet;
        \item настроить NGINX как прокси-сервер и балансировщик нагрузки;
        \item провести нагрузочное тестирование для comet и websocket соединений.
    \end{enumerate}
\end{frame}


% Описание курсовой работы
\begin{frame}
    \frametitle{Общая схема работы процесса NodeJS  \slnumber}
    \Large
    \begin{figure}[t]
        \centering
        \includegraphics[width=1\textwidth]{nodejs.png}
        \end{figure}
\end{frame}

\begin{frame}
    \frametitle{Общая схема работы NGINX  \slnumber}
    \Large
    \begin{figure}[t]
        \centering
        \includegraphics[width=1\textwidth]{nginx.png}
        \end{figure}
\end{frame}


\begin{frame}
    \frametitle{Общая схема работы Comet соединения  \slnumber}
    \Large
    \begin{figure}[t]
        \centering
        \includegraphics[width=1\textwidth]{longpoll.png}
        \end{figure}
\end{frame}

\begin{frame}
    \frametitle{Общая схема работы IFrame соединения  \slnumber}
    \Large
    \begin{figure}[t]
        \centering
        \includegraphics[width=1\textwidth]{iframe.png}
        \end{figure}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Общая схема работы JSONP соединения  \slnumber}
    \begin{enumerate}
        \item На клиентской стороне создается тег \verb!<script>! на специальный URL, в котором в качестве параметра передается имя функции обратного вызова, которая будет вызываться при получении данных;
        \item В свою очередь сервер формирует ответ в виде вызова этой функции с данными переданными в ней в качестве параметров, и отправляет ответ клиенту;
        \item Сразу после того как клиентская сторона получает ответ от сервера, полученный скрипт начинает немедленно выполняться, таким образом вызывая функцию обратного вызова, которая располагается на стороне клиента.
    \end{enumerate}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Общая схема работы WebSocket соединения  \slnumber}
    \begin{enumerate}
        \item Клиентская сторона отправляет \verb!GET!  запрос с заголовком \verb!Upgrade: websocket!, указывая, что хочет переключиться на WebSocket протокол;
        \item Сервер возвращает ответ с заголовками \verb!HTTP/1.1 101 Switching Protocols! и
        \verb!Upgrade: websocket!;
        \item Затем данные передаются по специальному протоколу с использованием <<фреймов>>. И это уже совсем не HTTP.
        \item При закрытии соединения сторона, желающая это сделать (обе стороны в WebSocket равноправны) отправляет закрывающий <<фрейм>> (c опкодом 0x8), в теле которого указывает причину закрытия.
    \end{enumerate}
\end{frame}

\begin{frame}
    \frametitle{Архитектура приложения и его работа  \slnumber}
    \Large
    \begin{figure}[t]
        \centering
        \includegraphics[width=0.9\textwidth]{Architecture.png}
        \end{figure}
\end{frame}



\begin{frame}
\frametitle{Статистика по Comet и WebSocket соединениям \slnumber}
\Large
\begin{figure}[t]
    \centering
    \includegraphics[width=1\textwidth]{averaged-statistics.jpg}
\end{figure}
\end{frame}

\begin{frame}
\frametitle{Результаты работы \slnumber}
В настоящей работе были изучены основы архитектуры NodeJS и NGINX, также были рассмотрены способы асинхронного обмена данными с сервером посредством использования websocket, comet, iframe и jsonp. На основе этих данных было создано приложение, позволяющее обмениваться данными между клиентами и сервером в режиме реального времени, а также в достаточной мере устойчивое к высоким нагрузкам (к большому числу одновременно подключенных клиентов). Кроме этого по результатам нагрузочного тестирования удалось выяснить, что передача данных с использованием WebSocket протокола является наиболее оптимальной для двунаправленной передачи данных.
\end{frame}



% Описание результатов курсовой работы - обязательный слайд
%\begin{frame}
%    \frametitle{Результаты курсовой работы  \slnumber}
%    \large
%    Эксперименты показали:
%    \begin{enumerate}
%        \item на первом, третьем и четвертом тесте алгоритм Евклида показывает лучшее время относительно других алгоритмов;
%        \item на втором тесте время работы алгоритма Евклида равно времени выполнения бинарного алгоритма
%        Стейна и античного алгоритма Евклида.
%    \end{enumerate}   
%    Из этого следует, что алгоритм Евклида является наиболее эффективным из
%    рассмотренных. 
%\end{frame}

% список литературы - обязательно
\begin{frame}
    \frametitle{Список использованных источников  \slnumber}
    \small
    \begin{thebibliography}{9}
        \setbeamertemplate{bibliography item}[online]
        \bibitem{el-Rana-temporaria}
            \verb"https://learn.javascript.ru/ajax-jsonp"
            \newblock Протокол JSONP
                                          
                        
                                            \setbeamertemplate{bibliography item}[online]
                                            \bibitem{el-Rana-temporaria}
                                                \verb"https://tools.ietf.org/html/rfc6455"
                                                \newblock The WebSocket Protocol
                                                
 
                                             \setbeamertemplate{bibliography item}[online]
                                             \bibitem{el-Rana-temporaria}
                                                 \verb"https://learn.javascript.ru/xhr-longpoll"
                                                 \newblock COMET с XMLHttpRequest: длинные опросы
                                        
                                        
                                        
                                                                                     \setbeamertemplate{bibliography item}[online]
                                                                                     \bibitem{el-Rana-temporaria}
                                                                                         \verb"https://learn.javascript.ru/ajax-iframe"
                                                                                         \newblock IFRAME для AJAX и COMET                            
        \setbeamertemplate{bibliography item}[book]
        \bibitem{Monte-Carlo-book}
        Сухов К. К.
            \newblock Node.js. Путеводитель по технологии
            \newblock ДМК Пресс: 2015. 
        \setbeamertemplate{bibliography item}[online]
        \bibitem{el-Pi-Monte-Carlo}
            \verb"https://habrahabr.ru/post/260065/"
            \newblock NGINX изнутри: рожден для производительности и масштабирования
    \end{thebibliography}
\end{frame}



\begin{frame}
	\begin{beamercolorbox}[ht=7ex, dp=4ex, center, shadow=true, rounded=true]{title in head/foot}
	\centerline{\LARGE{СПАСИБО ЗА ВНИМАНИЕ!}}
	\end{beamercolorbox}
\end{frame}

\end{document} 